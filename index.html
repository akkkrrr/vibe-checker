<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Checker âœ¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

    <div id="welcome-screen" class="screen active">
        <div class="container">
            <nav class="nav-bar">
                <button class="nav-btn active" data-nav="welcome">Etusivu</button>
                <button class="nav-btn" data-nav="history">Historia</button>
            </nav>
            <div class="logo-container">
                <h1 class="logo">Vibe Checker</h1>
                <p class="tagline">Intiimi kommunikaatio ilman painostusta</p>
            </div>
            <div class="action-buttons">
                <button class="btn btn-primary" id="create-session-btn">Luo uusi sessio</button>
                <button class="btn btn-outline" id="join-session-btn">Liity sessioon</button>
            </div>
            <div class="preset-buttons">
                <button class="btn btn-secondary" id="quickie-preset-btn">âš¡ Quickie</button>
                <button class="btn btn-secondary" id="tantric-preset-btn">ğŸ§˜ Tantric</button>
            </div>
        </div>
    </div>

    <div id="selection-screen" class="screen">
        <div class="container">
            <h2 class="screen-title">MitÃ¤ mielessÃ¤?</h2>
            <p id="session-id-display" class="session-badge"></p>
            
            <div class="selection-grid">
                <h3>Tunnelma</h3>
                <div class="mood-grid">
                    <div class="mood-card" data-mood="sensuelli"><span class="mood-icon">ğŸŒ¹</span><span class="mood-label">Sensuelli</span></div>
                    <div class="mood-card" data-mood="villi"><span class="mood-icon">ğŸ”¥</span><span class="mood-label">Villi</span></div>
                    <div class="mood-card" data-mood="leikkisa"><span class="mood-icon">ğŸ˜ˆ</span><span class="mood-label">LeikkisÃ¤</span></div>
                    <div class="mood-card" data-mood="dominoiva"><span class="mood-icon">ğŸ‘‘</span><span class="mood-label">Dominoiva</span></div>
                    <div class="mood-card" data-mood="hella"><span class="mood-icon">ğŸ’•</span><span class="mood-label">HellÃ¤</span></div>
                </div>

                <h3>Fokus</h3>
                <div class="mood-grid">
                    <div class="mood-card" data-focus="minun-nautinto">âœ¨ MinÃ¤</div>
                    <div class="mood-card" data-focus="kumppanin-nautinto">ğŸ’ Kumppani</div>
                    <div class="mood-card" data-focus="matka-tarkein">ğŸ­ Matka</div>
                    <div class="mood-card" data-focus="molemmat">ğŸ”¥ Molemmat</div>
                </div>

                <h3>Aika</h3>
                <div class="time-quick-select">
                    <button class="time-btn" data-time="now">Nyt</button>
                    <button class="time-btn" data-time="30min">30min</button>
                    <button class="time-btn" data-time="1h">1h</button>
                    <button class="time-btn" data-time="evening">Illalla</button>
                </div>
            </div>

            <div class="submit-section">
                <button class="btn btn-primary btn-large" id="submit-selection-btn">LÃ¤hetÃ¤ ehdotus</button>
                <button class="btn btn-outline" id="save-favorites-btn">Tallenna vakiona</button>
            </div>
        </div>
    </div>

    <div id="results-screen" class="screen">
        <div class="container">
            <div id="waiting-state">
                <h2>Odotetaan kumppania...</h2>
                <p>Linkki kopioitu leikepÃ¶ydÃ¤lle. LÃ¤hetÃ¤ se kumppanillesi!</p>
                <button class="btn btn-outline" id="copy-link-btn">Kopioi linkki uudestaan</button>
                <button class="btn btn-text" id="cancel-session-btn">Peruuta sessio</button>
            </div>

            <div id="match-results" style="display:none;">
                <div id="partner-proposal-view">
                    <h2>Kumppanin ehdotus:</h2>
                    <div class="proposal-card">
                        <p id="partner-proposal-mood"></p>
                        <div id="partner-proposal-spices" class="spice-tags"></div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="accept-proposal-btn">HyvÃ¤ksy!</button>
                        <button class="btn btn-outline" id="counter-proposal-btn">Tee vastaehdotus</button>
                    </div>
                </div>

                <div id="matched-view" style="display:none;">
                    <h1 class="match-title">It's a Match! ğŸ”¥</h1>
                    <p id="countdown-text"></p>
                    <button class="btn btn-primary" id="copy-summary-btn">Kopioi yhteenveto</button>
                    <button class="btn btn-outline" id="new-session-btn">Uusi sessio</button>
                </div>
            </div>
        </div>
    </div>

    <div id="history-screen" class="screen">
        <div class="container">
            <h2>Historia</h2>
            <nav class="nav-bar">
                <button class="nav-btn" data-nav="welcome">Etusivu</button>
                <button class="nav-btn active" data-nav="history">Historia</button>
            </nav>
            <div id="history-list"></div>
        </div>
    </div>

    <div id="notification-container" class="notification-container"></div>

    <div id="match-modal" class="modal">
        <div class="modal-content">
            <h2>âœ¨ Se on Match! âœ¨</h2>
            <p id="match-time-text"></p>
            <div id="confetti-container"></div>
            <button class="btn btn-primary" id="view-match-details-btn">Katso tiedot</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>
</html>