<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Checker âœ¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        ğŸŒ™
    </button>

    <!-- WELCOME SCREEN -->
    <div id="welcome-screen" class="screen active">
        <div class="container">
            <nav class="nav-bar">
                <button class="nav-btn active" data-nav="welcome">Etusivu</button>
                <button class="nav-btn" data-nav="history">Historia</button>
            </nav>

            <div class="logo-container">
                <h1 class="logo">Vibe Checker</h1>
                <p class="tagline">Intiimi kommunikaatio ilman painostusta</p>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="create-session-btn">
                    <span class="btn-icon">âœ¨</span>
                    Luo kutsu
                </button>
                <button class="btn btn-secondary" id="join-session-btn">
                    <span class="btn-icon">ğŸ’Œ</span>
                    Avaa kutsu
                </button>
            </div>

            <div class="info-card">
                <p class="info-text">Jaa toiveesi turvallisesti. NÃ¤ette vain sen, mitÃ¤ molemmat haluatte. â¤ï¸</p>
            </div>
        </div>
    </div>

    <!-- SELECTION SCREEN -->
    <div id="selection-screen" class="screen">
        <div class="container">
            <div class="header-section">
                <h2 class="screen-title">Valitse vibesi</h2>
                <p class="session-info">Sessio: <span id="session-id-display"></span></p>
                <div class="session-actions">
                    <button class="btn btn-icon-only" id="help-btn" title="Ohjeet">â“</button>
                    <button class="btn btn-secondary btn-small" id="copy-link-btn">
                        <span class="btn-icon">ğŸ”—</span>
                        Kopioi linkki
                    </button>
                    <button class="btn btn-outline btn-small" id="cancel-session-btn">
                        <span class="btn-icon">âœ•</span>
                        Peruuta
                    </button>
                </div>
            </div>

            <section class="selection-section">
                <h3 class="section-title">Tunnelma <span class="required-badge">pakollinen</span></h3>
                <div class="mood-grid mood-grid-5">
                    <button class="mood-card" data-mood="sensuelli">
                        <span class="mood-icon">ğŸŒ¹</span>
                        <span class="mood-label">Sensuelli</span>
                    </button>
                    <button class="mood-card" data-mood="villi">
                        <span class="mood-icon">ğŸ”¥</span>
                        <span class="mood-label">Villi</span>
                    </button>
                    <button class="mood-card" data-mood="leikkisa">
                        <span class="mood-icon">ğŸ˜ˆ</span>
                        <span class="mood-label">LeikkisÃ¤</span>
                    </button>
                    <button class="mood-card" data-mood="dominoiva">
                        <span class="mood-icon">ğŸ‘‘</span>
                        <span class="mood-label">Dominoiva</span>
                    </button>
                    <button class="mood-card" data-mood="hella">
                        <span class="mood-icon">ğŸ’•</span>
                        <span class="mood-label">HellÃ¤</span>
                    </button>
                </div>
            </section>

            <section class="selection-section">
                <h3 class="section-title">Fokus <span class="required-badge">pakollinen</span></h3>
                <div class="mood-grid mood-grid-4">
                    <button class="mood-card" data-focus="minun-nautinto">
                        <span class="mood-icon">âœ¨</span>
                        <span class="mood-label">Minun nautintoni</span>
                    </button>
                    <button class="mood-card" data-focus="kumppanin-nautinto">
                        <span class="mood-icon">ğŸ’</span>
                        <span class="mood-label">Kumppanin nautinto</span>
                    </button>
                    <button class="mood-card" data-focus="matka-tarkein">
                        <span class="mood-icon">ğŸ­</span>
                        <span class="mood-label">Matka > MÃ¤Ã¤rÃ¤npÃ¤Ã¤</span>
                    </button>
                    <button class="mood-card" data-focus="molemmat">
                        <span class="mood-icon">ğŸ”¥</span>
                        <span class="mood-label">Molemmat yhtÃ¤ aikaa</span>
                    </button>
                </div>
            </section>

            <section class="selection-section">
                <h3 class="section-title">Kommunikaatio</h3>
                <div class="spice-grid">
                    <label class="spice-card">
                        <input type="checkbox" name="communication" value="dirty-talk">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ’¬</span>
                            <span class="spice-label">Dirty talk</span>
                        </div>
                    </label>
                    <label class="spice-card">
                        <input type="checkbox" name="communication" value="kuiskailu">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ¤«</span>
                            <span class="spice-label">Kuiskailu</span>
                        </div>
                    </label>
                    <label class="spice-card">
                        <input type="checkbox" name="communication" value="hiljaisuus">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ¤</span>
                            <span class="spice-label">Hiljaisuus</span>
                        </div>
                    </label>
                </div>
            </section>

            <section class="selection-section">
                <h3 class="section-title">Lelut</h3>
                <div class="spice-grid">
                    <label class="spice-card">
                        <input type="checkbox" name="toys" value="vibrator">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ“³</span>
                            <span class="spice-label">Vibraattori</span>
                        </div>
                    </label>
                    <label class="spice-card">
                        <input type="checkbox" name="toys" value="dildo">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ†</span>
                            <span class="spice-label">Dildo</span>
                        </div>
                    </label>
                    <label class="spice-card">
                        <input type="checkbox" name="toys" value="massage-oil">
                        <div class="spice-content">
                            <span class="spice-icon">ğŸ’§</span>
                            <span class="spice-label">HierontaÃ¶ljy</span>
                        </div>
                    </label>
                </div>
            </section>

            <div class="submit-section">
                <button class="btn btn-primary btn-large" id="submit-selection-btn">
                    ğŸ’Œ LÃ¤hetÃ¤ valintani
                </button>
            </div>
        </div>
    </div>

    <!-- RESULTS SCREEN -->
    <div id="results-screen" class="screen">
        <div class="container">
            <div id="waiting-state" class="waiting-container">
                <div class="waiting-animation">
                    <span class="pulse-icon">ğŸ’­</span>
                </div>
                <h3 class="waiting-title">Odottaa kumppania...</h3>
                <p class="waiting-text">Kumppanisi ei ole vielÃ¤ lÃ¤hettÃ¤nyt valintojaan.</p>
                <div class="waiting-actions">
                    <button class="btn btn-secondary" id="back-to-edit-btn">
                        âœï¸ Muokkaa ehdotusta
                    </button>
                    <button class="btn btn-outline" id="cancel-proposal-btn">
                        âœ• Peruuta ehdotus
                    </button>
                </div>
            </div>

            <div id="match-results" class="results-container" style="display: none;">
                <!-- Dynaaminen sisÃ¤ltÃ¶ tÃ¤ytetÃ¤Ã¤n JS:llÃ¤ -->
            </div>
        </div>
    </div>

    <!-- HISTORY SCREEN -->
    <div id="history-screen" class="screen">
        <div class="container">
            <div class="header-section">
                <h2 class="screen-title">Historia</h2>
                <p class="tagline">Toteutuneet sessiot</p>
            </div>

            <nav class="nav-bar">
                <button class="nav-btn" data-nav="welcome">Etusivu</button>
                <button class="nav-btn active" data-nav="history">Historia</button>
            </nav>

            <div id="history-list" class="history-grid">
                <div class="empty-history">
                    <div class="empty-history-icon">ğŸ“š</div>
                    <p>Ei vielÃ¤ toteutuneita sessioita</p>
                    <p class="info-text-small">HyvÃ¤ksytyt sessiot nÃ¤kyvÃ¤t tÃ¤Ã¤llÃ¤</p>
                </div>
            </div>
        </div>
    </div>

    <!-- HELP MODAL -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">âœ•</button>
            <h2 class="modal-title">â“ Ohjeet</h2>
            <div class="modal-body">
                <h3>Miten Vibe Checker toimii?</h3>
                <ol>
                    <li><strong>Luo sessio</strong> - Klikkaa "Luo kutsu" ja jaa linkki kumppanille</li>
                    <li><strong>Valitse toiveesi</strong> - Valitse tunnelma, fokus ja mausteet</li>
                    <li><strong>LÃ¤hetÃ¤ ehdotus</strong> - Kumppanisi nÃ¤kee ehdotuksesi</li>
                    <li><strong>Odota vastausta</strong> - Kumppani voi hyvÃ¤ksyÃ¤ tai ehdottaa muutoksia</li>
                    <li><strong>Nauti!</strong> - Kun molemmat hyvÃ¤ksyvÃ¤t, sessio tallennetaan</li>
                </ol>

                <h3>Tietoturva</h3>
                <p>Kaikki tiedot tallennetaan turvallisesti Firebase-pilveen. Vain sinÃ¤ ja kumppanisi nÃ¤ette omat valintanne.</p>

                <h3>VinkkejÃ¤</h3>
                <ul>
                    <li>Ole rehellinen toiveistasi</li>
                    <li>Kunnioita kumppanisi rajoja</li>
                    <li>Keskustelkaa tuloksista yhdessÃ¤</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="app.js"></script>
</body>
</html>
